<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_261) on Tue Oct 27 10:56:17 CET 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TimeStamp (Signature Validation Commons - 1.0.0)</title>
<meta name="date" content="2020-10-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TimeStamp (Signature Validation Commons - 1.0.0)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimeStamp.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStampPolicyVerificationResult.html" title="class in se.idsec.sigval.commons.timestamp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?se/idsec/sigval/commons/timestamp/TimeStamp.html" target="_top">Frames</a></li>
<li><a href="TimeStamp.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">se.idsec.sigval.commons.timestamp</div>
<h2 title="Class TimeStamp" class="title">Class TimeStamp</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>se.idsec.sigval.commons.timestamp.TimeStamp</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TimeStamp</span>
extends java.lang.Object</pre>
<div class="block">This class parse validates and holds the essential information about a RFC 3161 timestamp.
 This class implements a special case of timestamp processing related to PDF/CMS signature validation where we have access to the data
 that was timestamped. Verification is performed on the signature on the timestamp as well as that it matches the timestamped data.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Martin Lindstr√∂m (martin@idsec.se), Stefan Santesson (stefan@idsec.se)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected se.idsec.signservice.security.certificate.CertificateValidationResult</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#certificateValidationResult">certificateValidationResult</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;java.security.cert.X509Certificate&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#certList">certList</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Exception</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#exception">exception</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;se.idsec.sigval.svt.claims.PolicyValidationClaims&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#policyValidationClaimsList">policyValidationClaimsList</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.security.cert.X509Certificate</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#sigCert">sigCert</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#sigValid">sigValid</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#timestampedData">timestampedData</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#timeStampSigBytes">timeStampSigBytes</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStampPolicyVerifier.html" title="interface in se.idsec.sigval.commons.timestamp">TimeStampPolicyVerifier</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#tsPolicyVerifier">tsPolicyVerifier</a></span></code>
<div class="block">List of policy verifiers determining if the signing certificate is trusted and the time stamp meets all defined policy requirements</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.bouncycastle.asn1.tsp.TSTInfo</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#tstInfo">tstInfo</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#TimeStamp-byte:A-byte:A-se.idsec.sigval.commons.timestamp.TimeStampPolicyVerifier-">TimeStamp</a></span>(byte[]&nbsp;timeStampSigBytes,
         byte[]&nbsp;timestampedData,
         <a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStampPolicyVerifier.html" title="interface in se.idsec.sigval.commons.timestamp">TimeStampPolicyVerifier</a>&nbsp;tsPolicyVerifier)</code>
<div class="block">Loads and verifies a timestamp.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#hasVerifiedTimestamp--">hasVerifiedTimestamp</a></span>()</code>
<div class="block">Test if a valid timestamp was loaded</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#init--">init</a></span>()</code>
<div class="block">Override this method with extended initializations</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStamp.html#verifyTsMessageImprint--">verifyTsMessageImprint</a></span>()</code>
<div class="block">Verifies if the timestamped data matches the timestamp</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="timeStampSigBytes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeStampSigBytes</h4>
<pre>protected&nbsp;byte[] timeStampSigBytes</pre>
</li>
</ul>
<a name="timestampedData">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timestampedData</h4>
<pre>protected&nbsp;byte[] timestampedData</pre>
</li>
</ul>
<a name="sigValid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sigValid</h4>
<pre>protected&nbsp;boolean sigValid</pre>
</li>
</ul>
<a name="certList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>certList</h4>
<pre>protected&nbsp;java.util.List&lt;java.security.cert.X509Certificate&gt; certList</pre>
</li>
</ul>
<a name="sigCert">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sigCert</h4>
<pre>protected&nbsp;java.security.cert.X509Certificate sigCert</pre>
</li>
</ul>
<a name="tstInfo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tstInfo</h4>
<pre>protected&nbsp;org.bouncycastle.asn1.tsp.TSTInfo tstInfo</pre>
</li>
</ul>
<a name="tsPolicyVerifier">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tsPolicyVerifier</h4>
<pre>protected final&nbsp;<a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStampPolicyVerifier.html" title="interface in se.idsec.sigval.commons.timestamp">TimeStampPolicyVerifier</a> tsPolicyVerifier</pre>
<div class="block">List of policy verifiers determining if the signing certificate is trusted and the time stamp meets all defined policy requirements</div>
</li>
</ul>
<a name="policyValidationClaimsList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>policyValidationClaimsList</h4>
<pre>protected&nbsp;java.util.List&lt;se.idsec.sigval.svt.claims.PolicyValidationClaims&gt; policyValidationClaimsList</pre>
</li>
</ul>
<a name="certificateValidationResult">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>certificateValidationResult</h4>
<pre>protected&nbsp;se.idsec.signservice.security.certificate.CertificateValidationResult certificateValidationResult</pre>
</li>
</ul>
<a name="exception">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>exception</h4>
<pre>protected&nbsp;java.lang.Exception exception</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TimeStamp-byte:A-byte:A-se.idsec.sigval.commons.timestamp.TimeStampPolicyVerifier-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TimeStamp</h4>
<pre>public&nbsp;TimeStamp(byte[]&nbsp;timeStampSigBytes,
                 byte[]&nbsp;timestampedData,
                 <a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStampPolicyVerifier.html" title="interface in se.idsec.sigval.commons.timestamp">TimeStampPolicyVerifier</a>&nbsp;tsPolicyVerifier)
          throws java.lang.Exception</pre>
<div class="block">Loads and verifies a timestamp.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeStampSigBytes</code> - the CMS signature bytes holding the RFC 3161 timestamp</dd>
<dd><code>timestampedData</code> - the data that was hashed and timestamped</dd>
<dd><code>tsPolicyVerifier</code> - a verifier capable of validating the signature on the timestamp</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - on errors parsing timestamp</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="hasVerifiedTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasVerifiedTimestamp</h4>
<pre>public&nbsp;boolean&nbsp;hasVerifiedTimestamp()</pre>
<div class="block">Test if a valid timestamp was loaded</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the loaded data contained a valid timestamp</dd>
</dl>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>protected&nbsp;void&nbsp;init()
             throws java.lang.Exception</pre>
<div class="block">Override this method with extended initializations</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - on errors during initialization</dd>
</dl>
</li>
</ul>
<a name="verifyTsMessageImprint--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>verifyTsMessageImprint</h4>
<pre>protected&nbsp;void&nbsp;verifyTsMessageImprint()
                               throws java.lang.Exception</pre>
<div class="block">Verifies if the timestamped data matches the timestamp</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - errors parsing timestamp data</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimeStamp.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../se/idsec/sigval/commons/timestamp/TimeStampPolicyVerificationResult.html" title="class in se.idsec.sigval.commons.timestamp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?se/idsec/sigval/commons/timestamp/TimeStamp.html" target="_top">Frames</a></li>
<li><a href="TimeStamp.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020 <a href="https://www.idsec.se">IDsec Solutions AB</a>. All rights reserved.</small></p>
</body>
</html>
