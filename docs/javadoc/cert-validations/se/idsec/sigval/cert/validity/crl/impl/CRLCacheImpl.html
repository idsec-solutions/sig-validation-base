<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_261) on Tue Oct 27 11:09:26 CET 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CRLCacheImpl (Certificate Validation - 1.0.0)</title>
<meta name="date" content="2020-10-27">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CRLCacheImpl (Certificate Validation - 1.0.0)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CRLCacheImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/impl/CRLValidityChecker.html" title="class in se.idsec.sigval.cert.validity.crl.impl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?se/idsec/sigval/cert/validity/crl/impl/CRLCacheImpl.html" target="_top">Frames</a></li>
<li><a href="CRLCacheImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">se.idsec.sigval.cert.validity.crl.impl</div>
<h2 title="Class CRLCacheImpl" class="title">Class CRLCacheImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>se.idsec.sigval.cert.validity.crl.impl.CRLCacheImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCache.html" title="interface in se.idsec.sigval.cert.validity.crl">CRLCache</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">CRLCacheImpl</span>
extends java.lang.Object
implements <a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCache.html" title="interface in se.idsec.sigval.cert.validity.crl">CRLCache</a></pre>
<div class="block">CRL cache implementation. Two main functions allows retrieval of a CRL from this cache which adds the CRL to the cache if not present,
 and a function for re-caching all CRLs on the cache. The latter function is meant to be called periodically by a daemon process in the background</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Martin Lindstr√∂m (martin@idsec.se), Stefan Santesson (stefan@idsec.se)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/impl/CRLCacheImpl.html#CRLCacheImpl-java.io.File-long-">CRLCacheImpl</a></span>(java.io.File&nbsp;cacheDataFolder,
            long&nbsp;recacheGracePeriod)</code>
<div class="block">Constructor for the CRL cache</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLInfo.html" title="class in se.idsec.sigval.cert.validity.crl">CRLInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/impl/CRLCacheImpl.html#getCRL-org.bouncycastle.asn1.x509.CRLDistPoint-">getCRL</a></span>(org.bouncycastle.asn1.x509.CRLDistPoint&nbsp;crlDistributionPointExt)</code>
<div class="block">This function is a more practical use of the cache rather than asking for a particular cached URL.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLInfo.html" title="class in se.idsec.sigval.cert.validity.crl">CRLInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/impl/CRLCacheImpl.html#getCRL-java.lang.String-">getCRL</a></span>(java.lang.String&nbsp;url)</code>
<div class="block">Retrieves a CRL from the CRL cache.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCacheRecord.html" title="class in se.idsec.sigval.cert.validity.crl">CRLCacheRecord</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/impl/CRLCacheImpl.html#getCrlCacheRecords--">getCrlCacheRecords</a></span>()</code>
<div class="block">Returns the current list of cached CRL records</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/impl/CRLCacheImpl.html#recache--">recache</a></span>()</code>
<div class="block">Performs a re-cache of all cached CRL records.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CRLCacheImpl-java.io.File-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CRLCacheImpl</h4>
<pre>public&nbsp;CRLCacheImpl(java.io.File&nbsp;cacheDataFolder,
                    long&nbsp;recacheGracePeriod)</pre>
<div class="block">Constructor for the CRL cache</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cacheDataFolder</code> - the data folder used to store cache data</dd>
<dd><code>recacheGracePeriod</code> - time in milliseconds for the time after last cache instance when first re-cache will be attempted</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getCrlCacheRecords--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCrlCacheRecords</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCacheRecord.html" title="class in se.idsec.sigval.cert.validity.crl">CRLCacheRecord</a>&gt;&nbsp;getCrlCacheRecords()</pre>
<div class="block">Returns the current list of cached CRL records</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of cached CRLs</dd>
</dl>
</li>
</ul>
<a name="getCRL-org.bouncycastle.asn1.x509.CRLDistPoint-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCRL</h4>
<pre>public&nbsp;<a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLInfo.html" title="class in se.idsec.sigval.cert.validity.crl">CRLInfo</a>&nbsp;getCRL(org.bouncycastle.asn1.x509.CRLDistPoint&nbsp;crlDistributionPointExt)
               throws java.io.IOException</pre>
<div class="block">This function is a more practical use of the cache rather than asking for a particular cached URL. This function is however
 limited to the following specific usage policy:
 <ul>
   <li>Only distribution points with absent reason settings are accepted (Not limited to a subset of reasons)</li>
   <li>Only distribution points with absent crlIssuer are accepted (CRL must be issued by cert issuer)</li>
   <li>Both LDAP(S) and HTTP(S) sources are accepted</li>
   <li>If both LDAP and HTTP sources are present, HTTP is attempted first. LDAP will only be attempted if HTTP fails</li>
   <li>If several sources are present, only the first successful source will be cached</li>
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCache.html#getCRL-org.bouncycastle.asn1.x509.CRLDistPoint-">getCRL</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCache.html" title="interface in se.idsec.sigval.cert.validity.crl">CRLCache</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>crlDistributionPointExt</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>CRL</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - on error to obtain the CRL from this extension</dd>
</dl>
</li>
</ul>
<a name="getCRL-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCRL</h4>
<pre>public&nbsp;<a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLInfo.html" title="class in se.idsec.sigval.cert.validity.crl">CRLInfo</a>&nbsp;getCRL(java.lang.String&nbsp;url)
               throws java.io.IOException</pre>
<div class="block">Retrieves a CRL from the CRL cache. If the CRL is not in the cache or if the cached CRL is expired,
 then an attempt to download and cache the CRL is made.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCache.html#getCRL-java.lang.String-">getCRL</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCache.html" title="interface in se.idsec.sigval.cert.validity.crl">CRLCache</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - the location of the CRL</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cached or downloaded CRL</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if it is not possible to obtain a CRL from this location</dd>
</dl>
</li>
</ul>
<a name="recache--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>recache</h4>
<pre>public&nbsp;void&nbsp;recache()</pre>
<div class="block">Performs a re-cache of all cached CRL records. This method should be called by a daemon process periodically</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCache.html#recache--">recache</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/CRLCache.html" title="interface in se.idsec.sigval.cert.validity.crl">CRLCache</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CRLCacheImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../se/idsec/sigval/cert/validity/crl/impl/CRLValidityChecker.html" title="class in se.idsec.sigval.cert.validity.crl.impl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?se/idsec/sigval/cert/validity/crl/impl/CRLCacheImpl.html" target="_top">Frames</a></li>
<li><a href="CRLCacheImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020 <a href="https://www.idsec.se">IDsec Solutions AB</a>. All rights reserved.</small></p>
</body>
</html>
